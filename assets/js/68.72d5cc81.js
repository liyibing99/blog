(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{365:function(a,t,s){"use strict";s.r(t);var r=s(4),e=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"关于处理跨域问题的讨论"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于处理跨域问题的讨论"}},[a._v("#")]),a._v(" 关于处理跨域问题的讨论")]),a._v(" "),t("h2",{attrs:{id:"_1、通过-navigator-sendbeacon"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、通过-navigator-sendbeacon"}},[a._v("#")]),a._v(" 1、通过 navigator.sendBeacon")]),a._v(" "),t("p",[a._v("适合上传少量数据，但是没法实现回调。")]),a._v(" "),t("h2",{attrs:{id:"_2、通过创建隐藏的-iframe-来发送数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、通过创建隐藏的-iframe-来发送数据"}},[a._v("#")]),a._v(" 2、通过创建隐藏的 iframe 来发送数据")]),a._v(" "),t("p",[a._v("....")]),a._v(" "),t("h2",{attrs:{id:"_3、jsonp-来跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、jsonp-来跨域"}},[a._v("#")]),a._v(" 3、jsonp 来跨域")]),a._v(" "),t("p",[a._v("需要前后端约定，通过动态创建script实现。")]),a._v(" "),t("h2",{attrs:{id:"_4、xhr-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、xhr-2"}},[a._v("#")]),a._v(" 4、xhr 2")]),a._v(" "),t("p",[a._v("“XHR2” 全称 “XMLHttpRequest Level2” 是HTML5提供的方法，对跨域访问提供了很好的支持，并且还有一些新的功能。")]),a._v(" "),t("ul",[t("li",[a._v("IE10一下的版本都不支持")]),a._v(" "),t("li",[a._v("只需要在服务器端头部加上下面两句代码：")])]),a._v(" "),t("p",[a._v('header( "Access-Control-Allow-Origin:*" );')]),a._v(" "),t("p",[a._v('header( "Access-Control-Allow-Methods:POST,GET" );')]),a._v(" "),t("h2",{attrs:{id:"_5-cors跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-cors跨域"}},[a._v("#")]),a._v(" 5. CORS跨域")]),a._v(" "),t("h2",{attrs:{id:"_6-postmessage跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-postmessage跨域"}},[a._v("#")]),a._v(" 6. postMessage跨域")]),a._v(" "),t("p",[a._v("这是html5的新API，适用于不同窗口iframe之间的跨域")]),a._v(" "),t("h2",{attrs:{id:"_7-window-name跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-window-name跨域"}},[a._v("#")]),a._v(" 7. window.name跨域")]),a._v(" "),t("h2",{attrs:{id:"_8-location-hash跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-location-hash跨域"}},[a._v("#")]),a._v(" 8. location.hash跨域")]),a._v(" "),t("h2",{attrs:{id:"_9-document-domain跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-document-domain跨域"}},[a._v("#")]),a._v(" 9. document.domain跨域")]),a._v(" "),t("p",[a._v("document.domain设置成自身或更高一级的父域，且主域必须相同。")]),a._v(" "),t("h2",{attrs:{id:"_10-后端设置代理proxy跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-后端设置代理proxy跨域"}},[a._v("#")]),a._v(" 10. 后端设置代理proxy跨域")]),a._v(" "),t("p",[a._v("因为JS同源策略是浏览器的安全策略，所以在浏览器客户端不能跨域访问，而服务器端调用HTTP接口只是使用HTTP协议，不会执行JS脚本，不需要同源策略，也就没有跨越问题。简单地说，就是浏览器不能跨域，后台服务器可以跨域。")]),a._v(" "),t("h2",{attrs:{id:"_11-websocket跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-websocket跨域"}},[a._v("#")]),a._v(" 11. WebSocket跨域")]),a._v(" "),t("p",[a._v("WebSocket是一种通信协议，使用ws://（非加密）和wss://（加密）作为协议前缀。该协议不实行同源政策，只要服务器支持，就可以通过它进行跨源通信。")])])}),[],!1,null,null,null);t.default=e.exports}}]);